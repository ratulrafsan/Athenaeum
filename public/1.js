(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{277:function(t,o,e){"use strict";var a=e(94);e.n(a).a},278:function(t,o,e){(t.exports=e(4)(!1)).push([t.i,".custom-bg-color-gray[data-v-8c95b358]{background-color:#f2f5f8}",""])},507:function(t,o,e){"use strict";e.r(o);var a=e(60),r=e(17),i=e.n(r),s=e(62),n=e(32);e(114);function l(t,o){return function(t){if(Array.isArray(t))return t}(t)||function(t,o){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],a=!0,r=!1,i=void 0;try{for(var s,n=t[Symbol.iterator]();!(a=(s=n.next()).done)&&(e.push(s.value),!o||e.length!==o);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(r)throw i}}return e}(t,o)||function(t,o){if(!t)return;if("string"==typeof t)return c(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,o)}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,a=new Array(o);e<o;e++)a[e]=t[e];return a}function u(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,a)}return e}function d(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?u(Object(e),!0).forEach((function(o){v(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}function v(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}var h={name:"AddBook",props:{book:void 0},created:function(){this.book&&this.loadPayloadFromProp(),this.$store.dispatch(n.default.load_authors),this.$store.dispatch(n.default.load_categories)},computed:d(d(d(d({},Object(a.b)(s.a.AUTHOR,[i.a.AUTHOR_DATA_PROCESSING,i.a.AUTHOR_DATA])),Object(a.b)(s.a.CATEGORY,[i.a.CATEGORY_DATA_PROCESSING,i.a.CATEGORY_DATA])),Object(a.b)(s.a.BOOK,[i.a.BOOK_UPDATE_SUCCESS,i.a.BOOK_UPDATE_PROCESSING,i.a.BOOK_NEW_SUCCESS,i.a.BOOK_NEW_PROCESSING,i.a.BOOK_NEW_ERROR,i.a.BOOK_UPDATE_ERROR])),{},{getters:function(){return e(17)},displaySuccessSnackbar:{get:function(){return this[i.a.BOOK_NEW_SUCCESS]||this[i.a.BOOK_UPDATE_SUCCESS]},set:function(t){}},displayErrorSnackbar:{get:function(){return this[i.a.BOOK_NEW_ERROR]||this[i.a.BOOK_UPDATE_ERROR]},set:function(t){}}}),data:function(){return{payload:{id:void 0,title:void 0,author:void 0,publisher:void 0,isbn:void 0,location:void 0,category:void 0,language:void 0},authors:[],categories:[],shelf:void 0,row:void 0}},methods:{resetForm:function(){this.payload={id:void 0,title:void 0,author:void 0,publisher:void 0,isbn:void 0,location:void 0,category:void 0,language:void 0},this.authors=[],this.categories=[],this.shelf=void 0,this.row=void 0},loadPayloadFromProp:function(){this.payload={id:this.book.id,title:this.book.title,author:this.book.author,category:this.book.category,publisher:this.book.publisher,isbn:this.book.isbn,location:this.book.location,language:this.book.language},this.authors=this.book.author.map((function(t){return t.id})),this.categories=this.book.category.map((function(t){return t.id}));var t=l(this.book.location.split(",").map((function(t){return t.split(":")[1].trim()})),2);this.shelf=t[0],this.row=t[1]},removeAuthorFromSelection:function(t){var o=this.authors.indexOf(t.id);o>=0&&this.authors.splice(o,1)},removeCategoryFromSelection:function(t){var o=this.categories.indexOf(t.id);o>=0&&this.categories.splice(o,1)},submitBook:function(){this.payload.location="Shelf: ".concat(this.shelf,", Row: ").concat(this.row),this.payload.author=this.authors,this.payload.category=this.categories,this.book?this.$store.dispatch(n.default.update_book,this.payload):this.$store.dispatch(n.default.add_book,this.payload)}}},b=(e(277),e(42)),p=e(48),f=e.n(p),m=e(57),g=e(13),y=e(20),_=e(43),O=e(14),k=e(63),S=e(47),A=e(76),E=e(35),C=e(46),w=Object(b.a)(h,(function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("v-main",{staticClass:"custom-bg-color-gray fill-height"},[a("v-toolbar",{attrs:{color:"success",flat:""}},[a("v-toolbar-title",[t._v(" logo here")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"font-weight-light",attrs:{text:"","x-large":"",to:e(29).default.addBook}},[t._v("\n            Add Book\n        ")]),t._v(" "),a("v-btn",{staticClass:"font-weight-light",attrs:{text:"","x-large":""}},[t._v("\n            Users\n        ")]),t._v(" "),a("v-btn",{staticClass:"font-weight-light",attrs:{text:"","x-large":""},on:{click:function(t){this.$store.dispatch(e(32).default.logout)}}},[t._v("\n            Logout\n        ")])],1),t._v(" "),a("v-container",[a("v-card",{staticClass:"mt-10 mx-md-12",attrs:{elevation:"1"}},[a("v-card-title",[t._v(" "+t._s(t.book?"Edit":"Add")+" Book ")]),t._v(" "),a("v-card-text",[a("v-form",{on:{submit:function(o){return o.preventDefault(),t.submitBook(o)}}},[a("v-row",{staticClass:"mx-1"},[a("v-text-field",{attrs:{label:"Book Title"},model:{value:t.payload.title,callback:function(o){t.$set(t.payload,"title",o)},expression:"payload.title"}})],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Publisher"},model:{value:t.payload.publisher,callback:function(o){t.$set(t.payload,"publisher",o)},expression:"payload.publisher"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"ISBN"},model:{value:t.payload.isbn,callback:function(o){t.$set(t.payload,"isbn",o)},expression:"payload.isbn"}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{disabled:this[t.getters.AUTHOR_DATA_PROCESSING],items:this[t.getters.AUTHOR_DATA],chips:"","item-text":"author","item-value":"id",multiple:"",label:"Authors"},scopedSlots:t._u([{key:"selection",fn:function(o){return[a("v-chip",t._b({attrs:{"input-value":o.selected,close:""},on:{click:o.select,"click:close":function(e){return t.removeAuthorFromSelection(o.item)}}},"v-chip",o.attrs,!1),[t._v("\n                                        "+t._s(o.item.author)+"\n                                    ")])]}}]),model:{value:t.authors,callback:function(o){t.authors=o},expression:"authors"}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{disabled:this[t.getters.CATEGORY_DATA_PROCESSING],items:this[t.getters.CATEGORY_DATA],chips:"","item-text":"category","item-value":"id",multiple:"",label:"Categories"},scopedSlots:t._u([{key:"selection",fn:function(o){return[a("v-chip",t._b({attrs:{"input-value":o.selected,close:""},on:{click:o.select,"click:close":function(e){return t.removeCategoryFromSelection(o.item)}}},"v-chip",o.attrs,!1),[t._v("\n                                        "+t._s(o.item.category)+"\n                                    ")])]}}]),model:{value:t.categories,callback:function(o){t.categories=o},expression:"categories"}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Shelf Number"},model:{value:t.shelf,callback:function(o){t.shelf=o},expression:"shelf"}})],1),t._v(" "),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Row Number"},model:{value:t.row,callback:function(o){t.row=o},expression:"row"}})],1),t._v(" "),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Language"},model:{value:t.payload.language,callback:function(o){t.$set(t.payload,"language",o)},expression:"payload.language"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",type:"submit",loading:this[t.getters.BOOK_NEW_PROCESSING]||this[t.getters.BOOK_UPDATE_PROCESSING]},on:{click:t.submitBook}},[t._v("\n                            Submit\n                        ")]),t._v(" "),a("v-btn",{attrs:{color:"warning"},on:{click:t.resetForm}},[t._v("\n                            Reset Form\n                        ")])],1)],1)],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{color:"primary",right:"",timeout:t.$store.state.book.notificationTimeout},model:{value:t.displaySuccessSnackbar,callback:function(o){t.displaySuccessSnackbar=o},expression:"displaySuccessSnackbar"}},[t._v("\n        Operation completed successfully\n    ")]),t._v(" "),a("v-snackbar",{attrs:{color:"red",right:"",timeout:t.$store.state.book.notificationTimeout},model:{value:t.displayErrorSnackbar,callback:function(o){t.displayErrorSnackbar=o},expression:"displayErrorSnackbar"}},[t._v("\n        Operation failed..\n    ")])],1)}),[],!1,null,"8c95b358",null);o.default=w.exports;f()(w,{VAutocomplete:m.a,VBtn:g.a,VCard:y.a,VCardActions:y.b,VCardText:y.d,VCardTitle:y.e,VChip:_.a,VCol:O.a,VContainer:O.b,VForm:k.a,VMain:S.a,VRow:O.c,VSnackbar:A.a,VSpacer:O.d,VTextField:E.a,VToolbar:C.a,VToolbarTitle:C.b})},94:function(t,o,e){var a=e(278);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(95)(a,r);a.locals&&(t.exports=a.locals)}}]);